(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],f=0,d=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01bf":function(t,e,s){"use strict";var a=s("b714"),n=s.n(a);n.a},"02ca":function(t,e,s){"use strict";var a=s("efd6"),n=s.n(a);n.a},1608:function(t,e,s){},"17f0":function(t,e,s){},"1ae4":function(t,e,s){t.exports=s.p+"./img/logo.9bb14540.svg"},"3a4d":function(t,e,s){"use strict";var a=s("d9db"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("4de4"),s("b0c0"),s("b680"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1)],1)},i=[],r=(s("f4bd"),{data:function(){return{}}}),o=r,c=(s("5c0b"),s("2877")),l=Object(c["a"])(o,n,i,!1,null,null,null),u=l.exports,f=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home px-3"},[s("section",{staticClass:"pt-3 sea pb-1"},[s("div",[s("i",{staticClass:"iconfont icon-sousuo",class:{"pos-center":t.left_center,"pos-left":!t.left_center}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"py-2 search text-grey w-100",style:t.searchText,attrs:{type:"search",placeholder:"搜索"},domProps:{value:t.searchName},on:{focus:function(e){return t.handleInput(1)},keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.handleSearch():null},input:function(e){e.target.composing||(t.searchName=e.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}],staticClass:"ml-3",on:{click:function(e){return t.handleInput(0)}}},[t._v("取消")])]),t.isSearch?s("search-card",{ref:"ftos",attrs:{searching:t.searching},on:{chooseSeach:function(e){return t.chooseSeach(e)}}}):s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop}},[s("div",{staticClass:"s-card"},t._l(t.musicList,(function(e){return s("tag-card",{key:e.tagId,attrs:{title:e.tag,href:"#"}},[s("div",{staticClass:"removeScroll"},[0!==e.music.length?s("div",{staticClass:"song-list d-flex"},t._l(e.music,(function(e,a){return s("div",{key:a,staticClass:"song-list-item mr-2 pb-4",on:{click:function(s){return t.musicInfo(e.id)}}},[s("div",{staticClass:"song-list-box"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],attrs:{alt:""}}),s("div",{staticClass:"song-list-info px-2"},[s("i",{staticClass:"iconfont icon-bofangsanjiaoxing text-white fs-ssm"}),s("span",{staticClass:"fs-ssm text-white"},[t._v(t._s(t._f("toFixNumber")(e.playCount,2)))])])]),s("div",{staticClass:"text-grey mt-2"},[t._v(t._s(t._f("subName")(e.name,12)))])])})),0):s("div",{staticStyle:{height:"100%",width:"100%"}},[s("span",{staticStyle:{"text-align":"center",display:"block",height:"100%","line-height":"10"}},[t._v("该类型暂无数据")])])])])})),1)])],1)},p=[],h=s("5530"),m=(s("c975"),{_debounce:function(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){var a=this,n=arguments;e&&clearTimeout(e),e=setTimeout((function(){e=null,t.apply(a,n)}),s)}},_throttle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=null,a=!1;return function(){if(!a){clearTimeout(s);var n=this,i=arguments;s=setTimeout((function(e){a=!1,t.apply(n,i)}),e)}}},getRandom:function(t,e,s){for(var a=[],n=0,i=0;i<s;i++)n=Math.random()*(e-t)+t,n=Math.floor(n),-1===a.indexOf(n)?a.push(n):i--;return a}}),g=m,v=s("76a0"),x=s.n(v),b=s("2f62"),_={data:function(){return{isSearch:!1,searching:!1,searchText:"text-align:center",left_center:!0,searchName:""}},created:function(){0===this.tagList.length&&this.getTagListAction()},methods:Object(h["a"])({handleInput:function(t){1===t&&this.isSearch||(0===t&&(this.searchName="",this.searchList=[],this.searchText="text-align:center"),1===t&&(this.searchText="text-indent:35px"),this.isSearch=!this.isSearch,this.left_center=!this.left_center)},loadTop:function(){this.refresh(),this.$refs.loadmore.onTopLoaded()},refresh:function(){for(var t=this.$utils.getRandom(0,10,3),e=0;e<t.length;e++)this.getMusicListAction({limit:6,tag:this.tagList[t[e]].name,tagId:this.tagList[t[e]].id})},chooseSeach:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.searchName=t,this.searching=!0},handleSearch:function(){this.$refs.ftos.handelSeachList(this.searchName)},musicInfo:function(t){this.$router.push({name:"info",params:{infoId:t}})}},Object(b["b"])(["getMusicListAction","getTagListAction"]),{},Object(b["c"])(["setSearchHisMutaion"])),computed:Object(h["a"])({},Object(b["d"])({musicList:function(t){return t.musicList},tagList:function(t){return t.tagList}})),watch:{searchName:function(t){0!==t.length?this.searching=!0:(this.searching=!1,this.$refs.ftos.clearSeacherList())}},filters:{subName:function(t,e){return t.length>e?t.substr(0,e)+"...":t}}},y=_,C=(s("01bf"),Object(c["a"])(y,d,p,!1,null,null,null)),k=C.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3 mt-2"},t._l(t.rankList,(function(e,a){return s("div",{key:a,staticClass:"top d-flex bg-white mb-3",on:{click:function(e){return t.musicTop(a)}}},[s("div",{staticClass:"top-left py-3 pl-3 flex-1"},[s("h3",{staticClass:"pb-2"},[t._v(t._s(e.name))]),s("ol",t._l(e.top3,(function(e,a){return s("li",{key:a},[s("p",{staticClass:"text-grey fs-ssm"},[s("strong",{staticClass:"text-black"},[t._v(t._s(a+1+"."))]),t._v(" "+t._s(e.name)+" ")])])})),0)]),s("div",{staticClass:"top-right"},[s("div",{staticClass:"top-content"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],staticClass:"h-100",attrs:{alt:""}}),s("div",{staticClass:"song-list-info px-2"},[s("i",{staticClass:"iconfont icon-bofangsanjiaoxing text-white fs-ssm"}),s("span",{staticClass:"fs-ssm text-white"},[t._v(t._s(t._f("toFixNumber")(e.playCount,2)))])])])])])})),0)},L=[],I=(s("a434"),s("96cf"),s("1da1")),S={data:function(){return{rankList:[],r_idx:0,r_len:15}},mounted:function(){this.getRank()},methods:{getRank:function(){var t=localStorage.getItem("rankList");if(t){var e=(new Date).getTime();if(t=JSON.parse(t),e-t.time<18e5)return void(this.rankList=t.data);localStorage.removeItem("rankList")}this.getRankList()},getRankList:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v["Indicator"].open("加载中..."),s=t.r_idx,a=t.r_len,e.prev=3;case 4:if(!(s<a)){e.next=12;break}return e.next=7,t.$api.getRankList({idx:s});case 7:n=e.sent,200===n.code&&t.rankList.push({coverImgUrl:n.playlist.coverImgUrl,name:n.playlist.name,top3:n.playlist.tracks.splice(0,3),playCount:n.playlist.playCount});case 9:s++,e.next=4;break;case 12:v["Indicator"].close(),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))()},musicTop:function(t){this.$router.push({name:"musicTop",params:{topId:t}})},setLocalRank:function(){localStorage.getItem("rankList")||localStorage.setItem("rankList",JSON.stringify({time:(new Date).getTime(),data:this.rankList}))}},computed:{},beforeDestroy:function(){v["Indicator"].close(),this.setLocalRank()}},O=S,j=(s("efa4"),Object(c["a"])(O,w,L,!1,null,null,null)),$=j.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header p-3 pb-0 shadow"},[s("div",{staticClass:"logo d-flex jc-center ai-center"},[t._m(0),t._m(1),t.userInfo.level?s("div",{staticClass:"flex-1 flex-right d-flex"},[s("img",{attrs:{src:t.userInfo.profile.avatarUrl,width:"23%"}})]):s("div",[s("a",{staticClass:"logo-button btn-qq fs-ssm px-3 text-grey",attrs:{href:"#"},on:{click:t.Login}},[t._v("登录")])])]),s("div",{staticClass:"nav d-flex fs-lg text-grey text-center"},[s("router-link",{attrs:{tag:"div",to:"/","exact-active-class":"active"}},[t._v("推荐")]),s("router-link",{attrs:{tag:"div",to:"/rank","exact-active-class":"active"}},[t._v("排行")])],1)]),s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1),t._m(2)],1)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo-box bg-white"},[a("img",{attrs:{src:s("1ae4"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo-title flex-1 ml-2"},[s("p",{staticClass:"fs-lg mb-1"},[t._v("QQ音乐")]),s("p",{staticClass:"fs-ssm text-grey"},[t._v("打开APP收藏下载")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"d-flex flex-column ai-center pt-5"},[a("div",{staticClass:"fot"},[a("img",{staticClass:"h-100",attrs:{src:s("a6b9"),alt:""}})]),a("div",{staticClass:"mt-2 text-grey fs-ssm text-center pb-5"},[a("p",[t._v("Copyright © 1998 - 2020 Tencent. All Rights Reserved.")]),a("p",[t._v("联系邮箱：810753596@qq.com QQ：810753596")])])])}],N=(s("ac1f"),s("466d"),{data:function(){return{current:0}},mounted:function(){this.isMobile()},methods:{Login:function(){this.$router.push({path:"/login"})},isMobile:function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t}},computed:Object(h["a"])({},Object(b["d"])(["userInfo"]))}),R=N,H=(s("9252"),Object(c["a"])(R,M,T,!1,null,null,null)),U=H.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"login"},[s("div",{staticClass:"login-bt"},[s("mt-button",{attrs:{type:"primary",size:"small"},on:{click:t.Login}},[t._v("登录")])],1),s("div",{staticClass:"login-bt"},[s("mt-button",{attrs:{type:"danger",size:"small"}},[t._v("返回")])],1)])],1)},P=[],A={data:function(){return{password:"",phone:""}},methods:{Login:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v["Indicator"].open("登陆中..."),e.prev=1,e.next=4,t.$axios({methods:LBP.type,url:LBP.url,params:{phone:t.phone,password:t.password}});case 4:if(s=e.sent,a=s.account,n=s.code,i=s.message,v["Indicator"].close(),200===n){e.next=12;break}return Object(v["Toast"])({message:i,position:"center",duration:2e3}),e.abrupt("return");case 12:t.$store.dispatch("getUserInfoAction",a.id),t.$router.push({path:"/"}),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](1),v["Indicator"].close(),Object(v["Toast"])({message:"未知错误",position:"center",duration:2e3}),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})))()},Back:function(){this.$router.push({path:"/"})}}},q=A,D=(s("02ca"),Object(c["a"])(q,E,P,!1,null,"b7fcad30",null)),J=D.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("1")])},B=[],Q={},F=Object(c["a"])(Q,z,B,!1,null,null,null),W=F.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex p-2 px-4 ai-center border-bottom"},[t._m(0),s("div",{staticClass:"flex-1 pl-2 top-text"},[t._v("更多QQ音乐排行榜")]),s("router-link",{staticClass:"backRank text-grey",attrs:{tag:"a",to:"/rank"}},[t._v("戳我查看")])],1),s("section",{staticClass:"d-flex flex-column jc-center ai-center mt-3"},[s("div",{staticClass:"imgbox mb-4"},[s("img",{staticClass:"h-100",attrs:{src:t.topInfo.coverImgUrl,alt:""}})]),s("div",{staticClass:"pt-1 text-center"},[s("h3",{staticClass:"pb-3"},[t._v(t._s(t.topInfo.name))]),s("p",{staticClass:"up-time text-len text-grey fs-sssm"},[t._v("更新时间: "+t._s(t._f("formdata")(t.topInfo.trackUpdateTime)))])]),t._m(1)]),s("section",{staticClass:"px-3 pt-3"},[s("p",{staticClass:"text-grey fs-sssm"},[t._v("排行榜 共"+t._s(t.topInfo.trackCount)+"首")]),s("ol",t._l(t.topInfo.tracks,(function(e,a){return s("li",{key:a,staticClass:"d-flex p-3 pb-2",style:t.delay,on:{click:function(s){return t.playMusic(e.id,a)}}},[s("span",{staticClass:"mr-3",class:a<3?"text-chinaRed":"text-grey",staticStyle:{"padding-top":"0.1rem"}},[t._v(t._s(a+1))]),s("div",[s("p",[t._v(t._s(e.name))]),t._l(e.ar,(function(a,n){return s("span",{key:n,staticClass:"text-grey pt-1 fs-sssm"},[t._v(t._s(t._f("addLines")(a.name,e.ar)))])}))],2)])})),0)])])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticClass:"h-100",attrs:{src:s("1ae4"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"iconfont icon-bofangsanjiaoxing bofang mt-3"})])}],K={data:function(){return{topInfo:{},color:"text-chinaRed",delay:"animated-delay:2s"}},props:["topId"],mounted:function(){this.getMusicTop(this.topId)},methods:{getMusicTop:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return v["Indicator"].open("加载中..."),s.next=3,e.$api.getRankList({idx:t});case 3:a=s.sent,200===a.code&&(v["Indicator"].close(),e.topInfo=a.playlist);case 5:case"end":return s.stop()}}),s)})))()},playMusic:function(t,e){var s=this.topInfo.tracks[e],a={name:s.name,url:s.al.picUrl,ar:s.ar};localStorage.setItem("songInfo",JSON.stringify(a)),this.$router.push({name:"musicPlay",params:{id:t}})}},computed:{}},V=K,X=(s("3a4d"),Object(c["a"])(V,Y,G,!1,null,"4e7d780b",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex p-2 px-4 ai-center border-bottom"},[t._m(0),s("div",{staticClass:"flex-1 pl-2 top-text"},[t._v("更多QQ音乐排行榜")]),s("transition",{attrs:{"enter-active-class":"animated fadeIn",appear:""}},[s("a",{staticClass:"backRank text-grey",on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])])],1),s("section",{staticClass:"d-flex flex-column ai-center jc-center mt-4 text-center"},[s("div",{staticClass:"title mb-3 mt-1"},[s("h2",{staticClass:"titleH pb-3"},[t._v(t._s(t.songsInfo.name))]),t._l(t.songsInfo.ar,(function(e,a){return s("span",{key:a,staticClass:"fs-m text-grey"},[t._v(t._s(t._f("addLines")(e.name,t.songsInfo.ar,"hor")))])}))],2),s("transition",{attrs:{"enter-active-class":"animated flipInY",appear:""}},[s("div",{staticClass:"titleimg box-shadow"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.songsInfo.url,expression:"songsInfo.url"}],staticClass:"h-100",attrs:{alt:""}})])]),s("div",{staticClass:"play mt-4 pt-1"},[s("a",{staticClass:"iconfont icon-icon_xinyong_xianxing_jijin-",attrs:{href:"#"}}),t.isStart?s("a",{staticClass:"iconfont icon-bofangsanjiaoxing",attrs:{href:"#"},on:{click:t.startMusic}}):s("a",{staticClass:"iconfont icon-zanting",attrs:{href:"#"},on:{click:t.stopMusic}}),s("a",{staticClass:"iconfont icon-aixin",attrs:{href:"#"}})]),t._m(1),s("div",[s("audio",{ref:"audio",attrs:{src:t.musicUrl}})])],1)])},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticClass:"h-100",attrs:{src:s("1ae4"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pt-4 downMs"},[s("a",{staticClass:"bg-info",attrs:{href:"#"}},[t._v("下载歌曲")])])}],st={data:function(){return{musicUrl:"",isStart:!0,songsInfo:{}}},props:["id"],mounted:function(){this.getMusicUrl(),this.getMusicinfo()},methods:{getMusicUrl:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getSong({id:t.id});case 2:s=e.sent,t.musicUrl=s.data[0].url;case 4:case"end":return e.stop()}}),e)})))()},startMusic:function(){this.isStart=!1,this.$refs.audio.play()},stopMusic:function(){this.isStart=!0,this.$refs.audio.pause()},getMusicinfo:function(){var t=localStorage.getItem("songInfo");t&&(t=JSON.parse(t),this.songsInfo=t)}},beforeDestroy:function(){localStorage.removeItem("songInfo")}},at=st,nt=(s("bf81"),Object(c["a"])(at,tt,et,!1,null,"3be0b530",null)),it=nt.exports;a["default"].use(f["a"]);var rt=[{path:"/",component:U,children:[{path:"/",name:"Home",component:k},{path:"/rank",name:"rank",component:$}]},{path:"/info/:infoId",name:"info",component:W,props:!0},{path:"/musicTop/:topId",name:"musicTop",component:Z,props:!0},{path:"/login",name:"login",component:J},{path:"/musicPlay/:id",name:"musicPlay",component:it,props:!0},{path:"*",redirect:"/"}],ot=new f["a"]({mode:"hash",routes:rt}),ct=ot,lt=(s("4160"),s("159b"),s("d3b7"),s("bc3a")),ut=s.n(lt),ft=s("4328"),dt=s.n(ft);ut.a.defaults.baseURL="https://musicapi.leanapp.cn",ut.a.defaults.timeoute=1e4,ut.a.defaults.withCredentials=!1,ut.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",ut.a.defaults.transformRequest=function(t){return dt.a.stringify(t)},ut.a.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.Authorization=e),t}),(function(t){return Promise.reject(t)})),ut.a.interceptors.response.use((function(t){return t.data}));var pt=ut.a,ht={getHotList:function(){return pt({url:"/search/hot/detail",methos:"get"})},loginByPhonefunction:function(t){return pt({url:"/login/cellphone",methos:"get",params:t})},getUserInfo:function(t){return pt({url:"/user/detail",methos:"get",params:t})},getSearchList:function(t){return pt({url:"/search",methos:"get",params:t})},getMusicList:function(t){return pt({url:"/top/playlist/highquality",methos:"get",params:t})},getTagList:function(){return pt({url:"/playlist/hot",methos:"get"})},getRankList:function(t){return pt({url:"/top/list",methos:"get",params:t})},getSong:function(t){return pt({url:"/music/url",methos:"get",params:t})}},mt=ht;a["default"].use(b["a"]);var gt=new b["a"].Store({state:{userInfo:{},musicList:[],tagList:[]},getters:{},mutations:{getUserInfoMutaion:function(t,e){t.userInfo=e},getMusicListMutaion:function(t,e){3===t.musicList.length&&(t.musicList=[]),0===e.music.length?t.musicList.push(e):t.musicList.unshift(e)},getTagListMutaion:function(t,e){e.forEach((function(e){t.tagList.push({name:e.name,id:e.id})}))}},actions:{getUserInfoAction:function(t,e){var s=t.commit,a=mt.getUserInfo({uid:e});a.then((function(t){s("getUserInfoMutaion",t)}))},getMusicListAction:function(t,e){var s=t.commit,a=e.limit,n=void 0===a?6:a,i=e.tag,r=void 0===i?"华语":i,o=e.tagId,c=void 0===o?5001:o,l=mt.getMusicList({limit:n,cat:r,order:"hot"});l.then((function(t){s("getMusicListMutaion",{tag:r,tagId:c,music:t.playlists})}))},getTagListAction:function(t){var e=t.commit,s=t.dispatch,a=mt.getTagList();a.then((function(t){for(var a=0;a<3;a++)s("getMusicListAction",{limit:6,tag:t.tags[a].name,tagId:t.tags[a].id});e("getTagListMutaion",t.tags)}))}},modules:{}}),vt=(s("a342"),s("6418"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card py-2 mt-3 "},[s("div",{staticClass:"card-header d-flex ai-center pb-3"},[s("h3",{staticClass:"fs-lg flex-1 "},[t._v(t._s(t.title))]),s("a",{staticClass:"text-grey fs-sm",attrs:{href:t.href}},[t._v("更多")]),s("i",{staticClass:"iconfont icon-right text-grey fs-ssm"})]),s("div",{staticClass:"card-body pt-1"},[t._t("default")],2)])}),xt=[],bt={props:{title:{type:String,required:!0},href:{type:String,required:!0}}},_t=bt,yt=(s("a623"),Object(c["a"])(_t,vt,xt,!1,null,null,null)),Ct=yt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tag-card",{attrs:{icon:t.icon,title:t.title}},[s("div",{staticClass:"nav jc-between"},t._l(t.categories,(function(e,a){return s("div",{key:a,staticClass:"nav-item",class:{active:t.active===a},on:{click:function(e){t.active=a}}},[s("div",{staticClass:"nav-link"},[t._v(t._s(e))])])})),0),s("div",{staticClass:"pt-3"},[s("swiper",t._l(t.categories,(function(e,a){return s("swiper-slide",{key:a},[t._t("items",null,{category:e})],2)})),1)],1)])},wt=[],Lt={props:{title:{type:String,required:!0},icon:{type:String,required:!0},categories:{type:Array,required:!0}},data:function(){return{active:0}}},It=Lt,St=Object(c["a"])(It,kt,wt,!1,null,null,null),Ot=St.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.searching?a("search-list",{attrs:{searchList:t.getNameList}}):a("section",[0!==t.searchHis.length?a("div",{staticClass:"searchHis"},[a("div",{staticStyle:{position:"absolute",right:"0.4rem","padding-top":"0.4rem"}},[a("img",{attrs:{src:s("8a32"),width:"80%"},on:{click:function(e){return t.deleteSearchHis()}}})]),a("h4",{staticClass:"mx-3 py-3"},[t._v("搜索历史")]),a("div",{staticClass:"hot d-flex flex-wrap"},t._l(t.searchHis,(function(e,s){return a("a",{key:s,staticClass:"bg-white px-2 mr-2 py-1 mb-3 fs-sm text-grey",attrs:{href:"#"},on:{click:function(s){return t.handelSeachList(e)}}},[t._v(t._s(e))])})),0)]):t._e(),a("div",{staticClass:"searchBox"},[a("h4",{staticClass:"mx-3 py-3"},[t._v("热门搜索")]),a("div",{staticClass:"hot d-flex flex-wrap"},t._l(t.hotList,(function(e,s){return a("a",{key:s,staticClass:"bg-white px-2 mr-2 py-1 mb-3 fs-sm text-grey",attrs:{href:"#"},on:{click:function(s){return t.handelSeachList(e.first)}}},[t._v(t._s(e.first))])})),0)])])},$t=[],Mt=(s("5319"),{data:function(){return{hotList:[],searchHis:[],getNameList:[],nothing:""}},props:["searching"],mounted:function(){this.getSearchHot(),this.getSearchHis()},methods:{getSearchHot:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=localStorage.getItem("hotData"),!s){e.next=6;break}if(s=JSON.parse(s),!((new Date).getTime()-s.time<18e5)){e.next=6;break}return t.hotList=s.data,e.abrupt("return");case 6:return e.prev=6,e.next=9,t.$api.getHotList();case 9:if(a=e.sent,200===a.code){e.next=12;break}return e.abrupt("return");case 12:t.hotList=a.result.hots,localStorage.setItem("hotData",JSON.stringify({time:(new Date).getTime(),data:a.result.hots})),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))()},handelSeachList:function(t){0!==t.replace(/\s+/g,"").length&&(v["Indicator"].open("查询中..."),this.$utils._throttle(this.getSearchList(t),1500))},getSearchList:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$api.getSearchList({keywords:t,type:1});case 3:a=s.sent,n=a.result,e.$emit("chooseSeach",t),e.getNameList=n.songs,e.searchHis.length>5&&e.searchHis.pop(),-1===e.searchHis.indexOf(t)&&e.searchHis.push(t),v["Indicator"].close(),s.next=17;break;case 12:s.prev=12,s.t0=s["catch"](0),v["Indicator"].close(),Object(v["Toast"])({message:"未知错误",position:"middle",duration:2e3}),console.log(s.t0);case 17:case"end":return s.stop()}}),s,null,[[0,12]])})))()},clearSeacherList:function(){this.getNameList=[]},getSearchHis:function(){var t=localStorage.getItem("searchHis");t&&(t=JSON.parse(t),this.searchHis=t.data)},deleteSearchHis:function(){this.searchHis=[],localStorage.removeItem("hotData")},addSearchHis:function(){localStorage.setItem("searchHis",JSON.stringify({data:this.searchHis}))}},computed:{},beforeDestroy:function(){this.addSearchHis()}}),Tt=Mt,Nt=Object(c["a"])(Tt,jt,$t,!1,null,null,null),Rt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("ul",t._l(t.searchList,(function(e){return s("li",{key:e.id,staticClass:"mx-3 s-list"},[s("h3",{staticClass:"overText"},[t._v(t._s(e.name))]),s("div",{staticClass:"overText"},[t._l(e.artists,(function(a,n){return s("span",{key:n,staticClass:"text-grey"},[t._v(t._s(t._f("addLines")(a.name,e.artists)))])})),s("span",{staticClass:"text-grey"},[t._v(" - "+t._s(e.album.name))])],2)])})),0)])},Ut=[],Et={data:function(){return{}},props:["searchList"]},Pt=Et,At=(s("7865"),Object(c["a"])(Pt,Ht,Ut,!1,null,null,null)),qt=At.exports;s("aa35");a["default"].prototype.$api=mt,a["default"].prototype.$utils=g,a["default"].use(x.a),a["default"].filter("formdata",(function(t){var e=new Date(t),s=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()+" ";return s+a+n})),a["default"].filter("toFixNumber",(function(t,e){var s=1e8;if(t>s)return t=(t/s).toFixed(e),t+"亿";var a=1e4;return t=(t/a).toFixed(e),t+"万"})),a["default"].filter("addLines",(function(t,e,s){var a="hor"===s?" - ":" / ";return e[e.length-1].name!==t?t+a:t})),a["default"].component("tag-card",Ct),a["default"].component("tag-list",Ot),a["default"].component("search-card",Rt),a["default"].component("search-list",qt),a["default"].config.productionTip=!1,new a["default"]({router:ct,store:gt,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},6418:function(t,e,s){},7865:function(t,e,s){"use strict";var a=s("9bdc"),n=s.n(a);n.a},"8a32":function(t,e,s){t.exports=s.p+"img/bin.6e475f41.svg"},9252:function(t,e,s){"use strict";var a=s("17f0"),n=s.n(a);n.a},"98f0":function(t,e,s){},"9bdc":function(t,e,s){},"9c0c":function(t,e,s){},a342:function(t,e,s){},a623:function(t,e,s){"use strict";var a=s("98f0"),n=s.n(a);n.a},a6b9:function(t,e,s){t.exports=s.p+"./img/logo_ch.bcdfd171.svg"},b714:function(t,e,s){},bf81:function(t,e,s){"use strict";var a=s("fbd1"),n=s.n(a);n.a},d9db:function(t,e,s){},efa4:function(t,e,s){"use strict";var a=s("1608"),n=s.n(a);n.a},efd6:function(t,e,s){},fbd1:function(t,e,s){}});
//# sourceMappingURL=app.19286bc3.js.map