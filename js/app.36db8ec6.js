(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],f=0,p=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01bf":function(t,e,s){"use strict";var a=s("b714"),n=s.n(a);n.a},"0983":function(t,e,s){},1608:function(t,e,s){},"17f0":function(t,e,s){},"1ae4":function(t,e,s){t.exports="img/logo.9bb14540.svg"},"20c6":function(t,e,s){"use strict";var a=s("f8f9"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("4de4"),s("b0c0"),s("b680"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1)],1)},i=[],r=(s("f4bd"),{data:function(){return{}}}),o=r,c=(s("5c0b"),s("2877")),l=Object(c["a"])(o,n,i,!1,null,null,null),u=l.exports,f=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home px-3"},[s("section",{staticClass:"pt-3 sea pb-1"},[s("div",[s("i",{staticClass:"iconfont icon-sousuo",class:{"pos-center":t.left_center,"pos-left":!t.left_center}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"py-2 search text-grey w-100",style:t.searchText,attrs:{type:"search",placeholder:"搜索"},domProps:{value:t.searchName},on:{focus:function(e){return t.handleInput(1)},keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.handleSearch():null},input:function(e){e.target.composing||(t.searchName=e.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}],staticClass:"ml-3",on:{click:function(e){return t.handleInput(0)}}},[t._v("取消")])]),t.isSearch?s("search-card",{ref:"sch",attrs:{searching:t.searching},on:{chooseSeach:function(e){return t.chooseSeach(e)}}}):s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop}},[s("div",{staticClass:"s-card"},[s("transition-group",{attrs:{"enter-active-class":"animated bounceInDown"},on:{"before-enter":t.beforeEnter}},t._l(t.musicList,(function(e,a){return s("tag-card",{key:e.tagId,attrs:{title:e.tag,"data-index":a}},[s("div",{staticClass:"removeScroll"},[0!==e.music.length?s("div",{staticClass:"song-list d-flex"},t._l(e.music,(function(e,a){return s("div",{key:a,staticClass:"song-list-item mr-2 pb-4",on:{click:function(s){return t.musicInfo(e.id)}}},[s("div",{staticClass:"song-list-box"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],attrs:{alt:""}}),s("div",{staticClass:"song-list-info px-2"},[s("i",{staticClass:"iconfont icon-bofangsanjiaoxing text-white fs-ssm"}),s("span",{staticClass:"fs-ssm text-white"},[t._v(t._s(t._f("toFixNumber")(e.playCount,2)))])])]),s("div",{staticClass:"text-grey mt-2",staticStyle:{width:"7.62rem"}},[t._v(t._s(t._f("subName")(e.name,12)))])])})),0):s("div",{staticStyle:{height:"100%",width:"100%"}},[s("span",{staticStyle:{"text-align":"center",display:"block",height:"100%","line-height":"10"}},[t._v("该类型暂无数据")])])])])})),1)],1)])],1)},d=[],h=s("5530"),m=(s("c975"),s("76a0")),g=s.n(m),v={_debounce:function(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){var a=this,n=arguments;e&&clearTimeout(e),e=setTimeout((function(){e=null,t.apply(a,n)}),s)}},_throttle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=null,a=!1;return function(){if(!a){clearTimeout(s);var n=this,i=arguments;s=setTimeout((function(e){a=!1,t.apply(n,i)}),e)}}},getRandom:function(t,e,s){for(var a=[],n=0,i=0;i<s;i++)n=Math.random()*(e-t)+t,n=Math.floor(n),-1===a.indexOf(n)?a.push(n):i--;return a},getMore:function(){Object(m["Toast"])({message:"还在开发ing",position:"center",duration:2e3})}},_=v,x=s("2f62"),b={data:function(){return{isSearch:!1,searching:!1,searchText:"text-align:center",left_center:!0,searchName:""}},created:function(){0===this.tagList.length&&this.getTagListAction()},methods:Object(h["a"])({handleInput:function(t){1===t&&this.isSearch||(0===t&&(this.searchName="",this.searchList=[],this.searchText="text-align:center"),1===t&&(this.searchText="text-indent:35px"),this.isSearch=!this.isSearch,this.left_center=!this.left_center)},loadTop:function(){this.refresh(),this.$refs.loadmore.onTopLoaded()},refresh:function(){for(var t=this.$utils.getRandom(0,10,3),e=0;e<t.length;e++)this.getMusicListAction({limit:6,tag:this.tagList[t[e]].name,tagId:this.tagList[t[e]].id})},chooseSeach:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.searchName=t,this.searching=!0},handleSearch:function(){this.$refs.sch.handelSeachList(this.searchName)},beforeEnter:function(t){var e="."+500*t.dataset.index+"s";t.style.animationDelay=e},musicInfo:function(t){this.$router.push({name:"info",params:{infoId:t}})}},Object(x["b"])(["getMusicListAction","getTagListAction"]),{},Object(x["c"])(["setSearchHisMutaion"])),computed:Object(h["a"])({},Object(x["d"])({musicList:function(t){return t.musicList},tagList:function(t){return t.tagList}})),watch:{searchName:function(t){0!==t.length?this.searching=!0:(this.searching=!1,this.$refs.ftos.clearSeacherList())}},filters:{subName:function(t,e){return t.length>e?t.substr(0,e)+"...":t}}},y=b,C=(s("01bf"),Object(c["a"])(y,p,d,!1,null,null,null)),k=C.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3 mt-2"},[s("transition-group",{attrs:{"enter-active-class":"animated bounce"},on:{"before-enter":t.beforeEnter}},t._l(t.rankList,(function(e,a){return s("div",{key:a,staticClass:"top d-flex bg-white mb-3",attrs:{"data-index":a},on:{click:function(e){return t.musicTop(a)}}},[s("div",{staticClass:"top-left py-3 pl-3 flex-1"},[s("h3",{staticClass:"pb-2"},[t._v(t._s(e.name))]),s("ol",t._l(e.top3,(function(e,a){return s("li",{key:e.id},[s("p",{staticClass:"text-grey fs-ssm"},[s("strong",{staticClass:"text-black"},[t._v(t._s(a+1+"."))]),t._v(" "+t._s(e.name)+" ")])])})),0)]),s("div",{staticClass:"top-right"},[s("div",{staticClass:"top-content"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],staticClass:"h-100",attrs:{alt:""}}),s("div",{staticClass:"song-list-info px-2"},[s("i",{staticClass:"iconfont icon-bofangsanjiaoxing text-white fs-ssm"}),s("span",{staticClass:"fs-ssm text-white"},[t._v(t._s(t._f("toFixNumber")(e.playCount,2)))])])])])])})),0)],1)},L=[],I=(s("a434"),s("96cf"),s("1da1")),S={data:function(){return{rankList:[],r_idx:0,r_len:15}},mounted:function(){this.getRank()},methods:{getRank:function(){var t=localStorage.getItem("rankList");if(t){var e=(new Date).getTime();if(t=JSON.parse(t),e-t.time<18e5)return void(this.rankList=t.data);localStorage.removeItem("rankList")}this.getRankList()},getRankList:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:m["Indicator"].open("加载中..."),s=t.r_idx,a=t.r_len,e.prev=3;case 4:if(!(s<a)){e.next=12;break}return e.next=7,t.$api.getRankList({idx:s});case 7:n=e.sent,200===n.code&&t.rankList.push({coverImgUrl:n.playlist.coverImgUrl,name:n.playlist.name,top3:n.playlist.tracks.splice(0,3),playCount:n.playlist.playCount});case 9:s++,e.next=4;break;case 12:m["Indicator"].close(),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))()},musicTop:function(t){this.$router.push({name:"musicTop",params:{topId:t}})},setLocalRank:function(){this.rankList.length>8&&!localStorage.getItem("rankList")&&localStorage.setItem("rankList",JSON.stringify({time:(new Date).getTime(),data:this.rankList}))},beforeEnter:function(t){var e="."+100*t.dataset.index+"s";t.style.animationDelay=e}},computed:{},beforeDestroy:function(){m["Indicator"].close(),this.setLocalRank()}},j=S,M=(s("efa4"),Object(c["a"])(j,w,L,!1,null,null,null)),$=M.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header p-3 pb-0 shadow"},[s("div",{staticClass:"logo d-flex jc-center ai-center"},[t._m(0),t._m(1),t.userInfo.level?s("div",{staticClass:"flex-1 flex-right d-flex"},[s("img",{attrs:{src:t.userInfo.profile.avatarUrl,width:"23%"}})]):s("div",[s("a",{staticClass:"logo-button btn-qq fs-ssm px-3 text-grey",attrs:{href:"#"},on:{click:t.Login}},[t._v("登录")])])]),s("div",{staticClass:"nav d-flex fs-lg text-grey text-center"},[s("router-link",{attrs:{tag:"div",to:"/","exact-active-class":"active"}},[t._v("推荐")]),s("router-link",{attrs:{tag:"div",to:"/rank","exact-active-class":"active"}},[t._v("排行")])],1)]),s("router-view"),t._m(2)],1)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo-box bg-white"},[a("img",{attrs:{src:s("1ae4"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo-title flex-1 ml-2"},[s("p",{staticClass:"fs-lg mb-1"},[t._v("QQ音乐")]),s("p",{staticClass:"fs-ssm text-grey"},[t._v("打开APP收藏下载")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"d-flex flex-column ai-center pt-5"},[a("div",{staticClass:"fot"},[a("img",{staticClass:"h-100",attrs:{src:s("a6b9"),alt:""}})]),a("div",{staticClass:"mt-2 text-grey fs-ssm text-center pb-5"},[a("p",[t._v("Copyright © 1998 - 2020 Tencent. All Rights Reserved.")]),a("p",[t._v("联系邮箱：810753596@qq.com QQ：810753596")])])])}],N=(s("ac1f"),s("466d"),{data:function(){return{current:0}},mounted:function(){this.isMobile()},methods:{Login:function(){this.$router.push({path:"/login"})},isMobile:function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t}},computed:Object(h["a"])({},Object(x["d"])(["userInfo"]))}),R=N,U=(s("9252"),Object(c["a"])(R,O,T,!1,null,null,null)),E=U.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"login"},[s("div",{staticClass:"login-bt"},[s("mt-button",{attrs:{type:"primary",size:"small"},on:{click:t.Login}},[t._v("登录")])],1),s("div",{staticClass:"login-bt"},[s("mt-button",{attrs:{type:"danger",size:"small"},on:{click:t.Back}},[t._v("返回")])],1)])],1)},D=[],P={data:function(){return{password:"",phone:""}},methods:{Login:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m["Indicator"].open("登陆中..."),e.prev=1,e.next=4,t.$axios({methods:LBP.type,url:LBP.url,params:{phone:t.phone,password:t.password}});case 4:if(s=e.sent,a=s.account,n=s.code,i=s.message,m["Indicator"].close(),200===n){e.next=12;break}return Object(m["Toast"])({message:i,position:"center",duration:2e3}),e.abrupt("return");case 12:t.$store.dispatch("getUserInfoAction",a.id),t.$router.push({path:"/"}),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](1),m["Indicator"].close(),Object(m["Toast"])({message:"未知错误",position:"center",duration:2e3}),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})))()},Back:function(){this.$router.push({path:"/"})}}},A=P,B=(s("20c6"),Object(c["a"])(A,H,D,!1,null,"43a1dc16",null)),q=B.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"top_wrap"},[a("div",{staticClass:"top_wrap__bd"}),a("img",{staticClass:"top_wrap__bg",attrs:{src:t.playListInfo.coverImgUrl}})]),a("div",{staticClass:"opt_box"},[a("div",{staticClass:"js_author author"},[a("header",{staticClass:"js_open_profile js_tj author__hd",attrs:{"data-tj":"profile"}},[a("img",{staticClass:"author__avatar",attrs:{src:s("1ae4")}}),a("h6",{staticClass:"author__name flex-1"},[t._v("音乐主题："+t._s(t.playListInfo.tags))]),a("a",{staticClass:"fs-ssm",on:{click:function(e){return t.goBlack()}}},[t._v("更多主题")])]),a("p",{staticClass:"author__desc"},[t._v(t._s(t.playListInfo.name))])]),a("div",{staticClass:"play_bar_wrap"},[a("div",{staticClass:"play_bar"},[a("a",{staticClass:"js_play_all js_tj play_all",attrs:{"data-tj":"play_all",href:"javascript:;"}},[a("i",{staticClass:"play_all__icon"},[a("div",{staticClass:"ico-div"},[t.isStart?a("p",{staticClass:"iconfont icon-bofangsanjiaoxing icon-s run-lf",on:{click:t.startMusic}}):a("p",{staticClass:"iconfont icon-zanting icon-s",on:{click:t.stopMusic}})])]),t.isStart&&0===t.musName.length?a("span",{staticClass:"play_all__text"},[t._v("播放全部")]):a("div",{staticStyle:{"margin-left":"10px"}},[a("span",{staticClass:"play_namae text-b"},[t._v(t._s(t.musName))]),t._l(t.musAr,(function(e,s){return a("span",{key:s,staticClass:"fs-ssm text-grey"},[t._v(t._s(t._f("addLines")(e.name,t.musAr)))])}))],2)]),a("a",{staticClass:"js_collect js_tj collect",attrs:{"data-tj":"collect",href:"javascript:;"}},[a("p",{staticClass:"iconfont icon-aixin collect__icon",on:{click:this.$utils.getMore}}),t._v("收藏歌单 ")])])])]),a("transition-group",{attrs:{"enter-active-class":"animated bounceInLeft"},on:{"before-enter":t.beforeEnter}},t._l(t.tracks,(function(e,s){return a("li",{key:e.id,staticClass:"p-4 pb-2 pt-3",style:t.musName===e.name?"color:#31c27c":null,attrs:{"data-index":s},on:{click:function(a){return t.chooseMusic(s,e.id)}}},[a("div",[a("span",{staticClass:"text-ellipsis"},[t._v(t._s(e.name))])]),a("div",t._l(e.ar,(function(s){return a("span",{key:s.id,staticClass:"text-grey pt-1 fs-sssm text-ellipsis"},[t._v(t._s(t._f("addLines")(s.name,e.ar)))])})),0)])})),0),a("div",[a("audio",{ref:"audio",attrs:{src:t.musicUrl},on:{ended:t.startNext}})])],1)},z=[],J=(s("a15b"),{data:function(){return{playListInfo:{},isStart:!0,musName:"",musAr:[],musicUrl:"",idx:0,tracks:[],chgreen:""}},props:["infoId"],mounted:function(){this.getMusicListDetail()},methods:{getMusicListDetail:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getMusicListDetail({id:t.infoId});case 2:s=e.sent,200===s.code&&(t.playListInfo={name:s.playlist.name,coverImgUrl:s.playlist.coverImgUrl,tags:s.playlist.tags},t.tracks=s.playlist.tracks,t.playListInfo.tags=t.playListInfo.tags.join(" "),t.getMusicUrl());case 4:case"end":return e.stop()}}),e)})))()},chooseMusic:function(t,e){this.isStart||0===this.musName.length||this.idx!==t?(this.idx=t,this.getMusicUrl(),this.startMusic(0)):this.stopMusic()},startMusic:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;0!==t&&0!==this.musName.length||this.changeName(),this.isStart=!1,this.$refs.audio.play(),this.$refs.audio.autoplay=!0},stopMusic:function(){this.isStart=!0,this.$refs.audio.pause()},getMusicUrl:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getSong({id:t.tracks[t.idx].id});case 2:s=e.sent,t.musicUrl=s.data[0].url;case 4:case"end":return e.stop()}}),e)})))()},changeName:function(){this.musName=this.tracks[this.idx].name,this.musAr=this.tracks[this.idx].ar},startNext:function(){this.idx++,this.idx>=this.tracks.length?this.isStart=!0:(this.changeName(),this.getMusicUrl())},goBlack:function(){this.$router.push({path:"/"})},beforeEnter:function(t){var e="."+100*t.dataset.index+"s";t.style.animationDelay=e}},beforeDestroy:function(){this.$refs.audio.pause(),this.$refs.audio.autoplay=!1}}),F=J,W=(s("e888"),Object(c["a"])(F,Q,z,!1,null,null,null)),Y=W.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex p-2 px-4 ai-center border-bottom"},[t._m(0),s("div",{staticClass:"flex-1 pl-2 top-text"},[t._v("更多QQ音乐排行榜")]),s("router-link",{staticClass:"backRank text-grey",attrs:{tag:"a",to:"/rank"}},[t._v("戳我查看")])],1),s("section",{staticClass:"d-flex flex-column jc-center ai-center mt-3"},[s("div",{staticClass:"imgbox mb-4"},[s("img",{staticClass:"h-100",attrs:{src:t.topInfo.coverImgUrl,alt:""}})]),s("div",{staticClass:"pt-1 text-center"},[s("h3",{staticClass:"pb-3"},[t._v(t._s(t.topInfo.name))]),s("p",{staticClass:"up-time text-len text-grey fs-sssm"},[t._v("更新时间: "+t._s(t._f("formdata")(t.topInfo.trackUpdateTime)))])]),t._m(1)]),s("section",{staticClass:"px-3 pt-3"},[s("p",{staticClass:"text-grey fs-sssm"},[t._v("排行榜 共"+t._s(t.topInfo.trackCount)+"首")]),s("transition-group",{attrs:{"enter-active-class":"animated bounceInLeft"},on:{"before-enter":t.beforeEnter}},t._l(t.topInfo.tracks,(function(e,a){return s("li",{key:e.id,staticClass:"d-flex p-3 pb-2",style:t.delay,attrs:{"data-index":a},on:{click:function(s){return t.playMusic(e.id,a)}}},[s("span",{staticClass:"mr-3",class:a<3?"text-chinaRed":"text-grey",staticStyle:{"padding-top":"0.1rem"}},[t._v(t._s(a+1))]),s("div",[s("p",[t._v(t._s(e.name))]),t._l(e.ar,(function(a,n){return s("span",{key:n,staticClass:"text-grey pt-1 fs-sssm"},[t._v(t._s(t._f("addLines")(a.name,e.ar)))])}))],2)])})),0)],1)])},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticClass:"h-100",attrs:{src:s("1ae4"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"iconfont icon-bofangsanjiaoxing bofang mt-3"})])}],V={data:function(){return{topInfo:{},color:"text-chinaRed",delay:"animated-delay:2s"}},props:["topId"],mounted:function(){this.getMusicTop(this.topId)},methods:{getMusicTop:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return m["Indicator"].open("加载中..."),s.next=3,e.$api.getRankList({idx:t});case 3:a=s.sent,200===a.code&&(m["Indicator"].close(),e.topInfo=a.playlist);case 5:case"end":return s.stop()}}),s)})))()},playMusic:function(t,e){this.$router.push({name:"musicPlay",params:{id:t}})},beforeEnter:function(t){var e="."+100*t.dataset.index+"s";t.style.animationDelay=e}}},X=V,Z=(s("de50"),Object(c["a"])(X,G,K,!1,null,"fe9637f4",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{"enter-active-class":"animated fadeIn",appear:""}},[a("div",{staticClass:"d-flex p-2 px-4 ai-center border-bottom"},[a("div",{staticClass:"logo"},[a("img",{staticClass:"h-100",attrs:{src:s("1ae4"),alt:""}})]),a("div",{staticClass:"flex-1 pl-2 top-text"},[t._v("更多QQ音乐排行榜")]),a("a",{staticClass:"backRank text-grey",on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])])]),a("section",{staticClass:"d-flex flex-column ai-center jc-center mt-4 text-center"},[a("div",{staticClass:"title mb-3 mt-1"},[a("h2",{staticClass:"titleH pb-3"},[t._v(t._s(t.songsInfo.name))]),t._l(t.songsInfo.ar,(function(e,s){return a("span",{key:s,staticClass:"fs-m text-grey"},[t._v(t._s(t._f("addLines")(e.name,t.songsInfo.ar,"hor")))])}))],2),a("transition",{attrs:{"enter-active-class":"animated flipInY",appear:""}},[a("div",{staticClass:"titleimg box-shadow"},[a("img",{staticClass:"h-100",attrs:{src:t.songsInfo.picUrl,alt:""}})])]),a("div",{staticClass:"play mt-4 pt-1"},[a("p",{staticClass:"iconfont icon-icon_xinyong_xianxing_jijin-",on:{click:this.$utils.getMore}}),t.isStart?a("p",{staticClass:"iconfont icon-bofangsanjiaoxing",on:{click:t.startMusic}}):a("p",{staticClass:"iconfont icon-zanting",on:{click:t.stopMusic}}),a("p",{staticClass:"iconfont icon-aixin",on:{click:this.$utils.getMore}})]),a("div",{staticClass:"pt-4 downMs"},[a("a",{staticClass:"bg-info",attrs:{href:t.musicUrl},on:{click:function(e){return e.preventDefault(),t.downMusic(t.musicUrl)}}},[t._v("下载歌曲")])]),a("div",[a("audio",{ref:"audio",attrs:{src:t.musicUrl}})])],1)],1)},st=[],at=s("bc3a"),nt=s.n(at),it={data:function(){return{musicUrl:"",isStart:!0,songsInfo:{}}},props:["id"],mounted:function(){this.getMusicinfo(),this.getMusicUrl()},methods:{getMusicUrl:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getSong({id:t.id});case 2:s=e.sent,t.musicUrl=s.data[0].url;case 4:case"end":return e.stop()}}),e)})))()},startMusic:function(){var t=this.$refs.audio.error;t?Object(m["Toast"])({message:"歌曲,暂无资源",position:"center",duration:2e3}):(this.isStart=!1,this.$refs.audio.play())},stopMusic:function(){this.isStart=!0,this.$refs.audio.pause()},getMusicinfo:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getSongDetail({ids:t.id});case 2:s=e.sent,200===s.code&&(t.songsInfo={name:s.songs[0].name,picUrl:s.songs[0].al.picUrl,ar:s.songs[0].ar});case 4:case"end":return e.stop()}}),e)})))()},downMusic:function(t){nt.a.get(t,{responseType:"blob"}).then((function(t){console.log(t);var e=new Blob([data]);console.log(e)}))}},beforeDestroy:function(){localStorage.removeItem("songInfo")}},rt=it,ot=(s("c1fc"),Object(c["a"])(rt,et,st,!1,null,"64885429",null)),ct=ot.exports;a["default"].use(f["a"]);var lt=[{path:"/",component:E,children:[{path:"/",name:"Home",component:k},{path:"/rank",name:"rank",component:$}]},{path:"/info/:infoId",name:"info",component:Y,props:!0},{path:"/musicTop/:topId",name:"musicTop",component:tt,props:!0},{path:"/login",name:"login",component:q},{path:"/musicPlay/:id",name:"musicPlay",component:ct,props:!0},{path:"*",redirect:"/"}],ut=new f["a"]({mode:"hash",routes:lt}),ft=ut,pt=(s("4160"),s("159b"),s("d3b7"),s("4328")),dt=s.n(pt);nt.a.defaults.baseURL="https://musicapi.leanapp.cn",nt.a.defaults.timeoute=1e4,nt.a.defaults.withCredentials=!1,nt.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",nt.a.defaults.transformRequest=function(t){return dt.a.stringify(t)},nt.a.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.Authorization=e),t}),(function(t){return Promise.reject(t)})),nt.a.interceptors.response.use((function(t){return t.data}));var ht=nt.a,mt={getHotList:function(){return ht({url:"/search/hot/detail",methos:"get"})},loginByPhonefunction:function(t){return ht({url:"/login/cellphone",methos:"get",params:t})},getUserInfo:function(t){return ht({url:"/user/detail",methos:"get",params:t})},getSearchList:function(t){return ht({url:"/search",methos:"get",params:t})},getMusicList:function(t){return ht({url:"/top/playlist/highquality",methos:"get",params:t})},getMusicListDetail:function(t){return ht({url:"/playlist/detail",methos:"get",params:t})},getTagList:function(){return ht({url:"/playlist/hot",methos:"get"})},getRankList:function(t){return ht({url:"/top/list",methos:"get",params:t})},getSongDetail:function(t){return ht({url:"/song/detail",methos:"get",params:t})},getSong:function(t){return ht({url:"/music/url",methos:"get",params:t})}},gt=mt;a["default"].use(x["a"]);var vt=new x["a"].Store({state:{userInfo:{},musicList:[],tagList:[]},getters:{},mutations:{getUserInfoMutaion:function(t,e){t.userInfo=e},getMusicListMutaion:function(t,e){3===t.musicList.length&&(t.musicList=[]),0===e.music.length?t.musicList.push(e):t.musicList.unshift(e)},getTagListMutaion:function(t,e){e.forEach((function(e){t.tagList.push({name:e.name,id:e.id})}))}},actions:{getUserInfoAction:function(t,e){var s=t.commit,a=gt.getUserInfo({uid:e});a.then((function(t){s("getUserInfoMutaion",t)}))},getMusicListAction:function(t,e){var s=t.commit,a=e.limit,n=void 0===a?6:a,i=e.tag,r=void 0===i?"华语":i,o=e.tagId,c=void 0===o?5001:o,l=gt.getMusicList({limit:n,cat:r,order:"hot"});l.then((function(t){s("getMusicListMutaion",{tag:r,tagId:c,music:t.playlists})}))},getTagListAction:function(t){var e=t.commit,s=t.dispatch,a=gt.getTagList();a.then((function(t){for(var a=0;a<3;a++)s("getMusicListAction",{limit:6,tag:t.tags[a].name,tagId:t.tags[a].id});e("getTagListMutaion",t.tags)}))}},modules:{}}),_t=(s("a342"),s("6418"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card py-2 mt-2"},[s("div",{staticClass:"card-header d-flex ai-center pb-3"},[s("h3",{staticClass:"fs-lg flex-1"},[t._v(t._s(t.title))]),s("p",{staticClass:"text-grey fs-sm",on:{click:this.$utils.getMore}},[t._v("更多")]),s("i",{staticClass:"iconfont icon-right text-grey fs-ssm"})]),s("div",{staticClass:"card-body pt-1"},[t._t("default")],2)])}),xt=[],bt={props:{title:{type:String,required:!0}},methods:{}},yt=bt,Ct=(s("a623"),Object(c["a"])(yt,_t,xt,!1,null,null,null)),kt=Ct.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tag-card",{attrs:{icon:t.icon,title:t.title}},[s("div",{staticClass:"nav jc-between"},t._l(t.categories,(function(e,a){return s("div",{key:a,staticClass:"nav-item",class:{active:t.active===a},on:{click:function(e){t.active=a}}},[s("div",{staticClass:"nav-link"},[t._v(t._s(e))])])})),0),s("div",{staticClass:"pt-3"},[s("swiper",t._l(t.categories,(function(e,a){return s("swiper-slide",{key:a},[t._t("items",null,{category:e})],2)})),1)],1)])},Lt=[],It={props:{title:{type:String,required:!0},icon:{type:String,required:!0},categories:{type:Array,required:!0}},data:function(){return{active:0}}},St=It,jt=Object(c["a"])(St,wt,Lt,!1,null,null,null),Mt=jt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.searching?a("search-list",{attrs:{searchList:t.getNameList}}):a("section",[0!==t.searchHis.length?a("div",{staticClass:"searchHis"},[a("div",{staticStyle:{position:"absolute",right:"0.4rem","padding-top":"0.4rem"}},[a("img",{attrs:{src:s("8a32"),width:"80%"},on:{click:function(e){return t.deleteSearchHis()}}})]),a("h4",{staticClass:"mx-3 py-3"},[t._v("搜索历史")]),a("div",{staticClass:"hot d-flex flex-wrap"},t._l(t.searchHis,(function(e,s){return a("a",{key:s,staticClass:"bg-white px-2 mr-2 py-1 mb-3 fs-sm text-grey",attrs:{href:"#"},on:{click:function(s){return t.handelSeachList(e)}}},[t._v(t._s(e))])})),0)]):t._e(),a("div",{staticClass:"searchBox"},[a("h4",{staticClass:"mx-3 py-3"},[t._v("热门搜索")]),a("div",{staticClass:"hot d-flex flex-wrap"},t._l(t.hotList,(function(e,s){return a("a",{key:s,staticClass:"bg-white px-2 mr-2 py-1 mb-3 fs-sm text-grey",attrs:{href:"#"},on:{click:function(s){return t.handelSeachList(e.first)}}},[t._v(t._s(e.first))])})),0)])])},Ot=[],Tt=(s("5319"),{data:function(){return{hotList:[],searchHis:[],getNameList:[],nothing:""}},props:["searching"],mounted:function(){this.getSearchHot(),this.getSearchHis()},methods:{getSearchHot:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=localStorage.getItem("hotData"),!s){e.next=6;break}if(s=JSON.parse(s),!((new Date).getTime()-s.time<18e5)){e.next=6;break}return t.hotList=s.data,e.abrupt("return");case 6:return e.prev=6,e.next=9,t.$api.getHotList();case 9:if(a=e.sent,200===a.code){e.next=12;break}return e.abrupt("return");case 12:t.hotList=a.result.hots,localStorage.setItem("hotData",JSON.stringify({time:(new Date).getTime(),data:a.result.hots})),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))()},handelSeachList:function(t){0!==t.replace(/\s+/g,"").length&&(m["Indicator"].open("查询中..."),this.$utils._throttle(this.getSearchList(t),1500))},getSearchList:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$api.getSearchList({keywords:t,type:1});case 3:a=s.sent,n=a.result,e.$emit("chooseSeach",t),e.getNameList=n.songs,e.searchHis.length>5&&e.searchHis.pop(),-1===e.searchHis.indexOf(t)&&e.searchHis.push(t),m["Indicator"].close(),s.next=17;break;case 12:s.prev=12,s.t0=s["catch"](0),m["Indicator"].close(),Object(m["Toast"])({message:"未知错误",position:"middle",duration:2e3}),console.log(s.t0);case 17:case"end":return s.stop()}}),s,null,[[0,12]])})))()},clearSeacherList:function(){this.getNameList=[]},getSearchHis:function(){var t=localStorage.getItem("searchHis");t&&(t=JSON.parse(t),this.searchHis=t.data)},deleteSearchHis:function(){this.searchHis=[],localStorage.removeItem("hotData")},addSearchHis:function(){localStorage.setItem("searchHis",JSON.stringify({data:this.searchHis}))}},computed:{},beforeDestroy:function(){this.addSearchHis()}}),Nt=Tt,Rt=Object(c["a"])(Nt,$t,Ot,!1,null,null,null),Ut=Rt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("ul",t._l(t.searchList,(function(e){return s("li",{key:e.id,staticClass:"mx-3 s-list",on:{click:function(s){return t.musicPlay(e.id)}}},[s("h3",{staticClass:"overText"},[t._v(t._s(e.name))]),s("div",{staticClass:"overText"},[t._l(e.artists,(function(a,n){return s("span",{key:n,staticClass:"text-grey"},[t._v(t._s(t._f("addLines")(a.name,e.artists)))])})),s("span",{staticClass:"text-grey"},[t._v(" - "+t._s(e.album.name))])],2)])})),0)])},Ht=[],Dt={data:function(){return{}},props:["searchList"],methods:{musicPlay:function(t){this.$router.push({name:"musicPlay",params:{id:t}})}}},Pt=Dt,At=(s("7865"),Object(c["a"])(Pt,Et,Ht,!1,null,null,null)),Bt=At.exports;s("aa35");a["default"].prototype.$api=gt,a["default"].prototype.$utils=_,a["default"].use(g.a),a["default"].filter("formdata",(function(t){var e=new Date(t),s=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()+" ";return s+a+n})),a["default"].filter("toFixNumber",(function(t,e){var s=1e8;if(t>s)return t=(t/s).toFixed(e),t+"亿";var a=1e4;return t=(t/a).toFixed(e),t+"万"})),a["default"].filter("addLines",(function(t,e,s){var a="hor"===s?" - ":" / ";return e[e.length-1].name!==t?t+a:t})),a["default"].component("tag-card",kt),a["default"].component("tag-list",Mt),a["default"].component("search-card",Ut),a["default"].component("search-list",Bt),a["default"].config.productionTip=!1,new a["default"]({router:ft,store:vt,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},6418:function(t,e,s){},"702e":function(t,e,s){},7865:function(t,e,s){"use strict";var a=s("9bdc"),n=s.n(a);n.a},"8a32":function(t,e,s){t.exports=s.p+"img/bin.6e475f41.svg"},9252:function(t,e,s){"use strict";var a=s("17f0"),n=s.n(a);n.a},"98f0":function(t,e,s){},"9bdc":function(t,e,s){},"9c0c":function(t,e,s){},a342:function(t,e,s){},a623:function(t,e,s){"use strict";var a=s("98f0"),n=s.n(a);n.a},a6b9:function(t,e,s){t.exports="img/logo_ch.bcdfd171.svg"},b714:function(t,e,s){},b7b0:function(t,e,s){},c1fc:function(t,e,s){"use strict";var a=s("702e"),n=s.n(a);n.a},de50:function(t,e,s){"use strict";var a=s("0983"),n=s.n(a);n.a},e888:function(t,e,s){"use strict";var a=s("b7b0"),n=s.n(a);n.a},efa4:function(t,e,s){"use strict";var a=s("1608"),n=s.n(a);n.a},f8f9:function(t,e,s){}});
//# sourceMappingURL=app.36db8ec6.js.map